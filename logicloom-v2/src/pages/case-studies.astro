---
// src/pages/case-studies.astro
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';

// 1. Get all studies
const allStudies = await getCollection('case-studies');

// 2. Define the Architecture Groups (By Slug)
const growthSlugs = ['cold-lead-finder', 'audit-form-automation', 'roofing-leads', 'shipping-calculator'];
const opsSlugs = ['cleaning-solutions', 'acme-law', 'dental-intake', 'gold-remodels'];
const serviceSlugs = ['email-monitor', 'ecom-support', 'restaurant-inquiries', 'fitness-trainers'];

// 3. Filter into Categories
const growthStudies = allStudies.filter(study => growthSlugs.includes(study.slug));
const opsStudies = allStudies.filter(study => opsSlugs.includes(study.slug));
const serviceStudies = allStudies.filter(study => serviceSlugs.includes(study.slug));
---

<Layout title="Case Studies | LogicLoom" description="Real results from our automation architectures.">
  
  <section class="py-24 px-6 max-w-7xl mx-auto">
    <div class="text-center max-w-3xl mx-auto mb-24">
      <h1 class="font-display text-5xl md:text-6xl font-bold mb-6 text-slate-900">Engineering Outcomes.</h1>
      <p class="text-xl text-slate-500">
        We don't sell templates. We install <span class="text-slate-900 font-semibold">Enterprise Infrastructure</span> customized to your business logic.
      </p>
    </div>

    <div class="mb-32">
      <div class="mb-12 border-b border-gray-200 pb-8">
        <div class="flex items-center gap-4 mb-2">
          <span class="text-4xl">üöÄ</span>
          <h2 class="font-display text-3xl font-bold text-slate-900">The Growth Engine</h2>
        </div>
        <p class="text-lg text-slate-500 max-w-2xl">
          Automated workflows for <strong>Lead Capture, Cold Outreach, and Instant Quoting</strong>. Never let a lead go cold again.
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-6">
        {growthStudies.map(study => (
          <a href={`/case-studies/${study.slug}`} class="group flex flex-col bg-white rounded-3xl p-6 border border-gray-200 hover:border-blue-500 hover:shadow-xl transition-all duration-300 h-full">
            <div class="flex items-center justify-between mb-4">
              <span class="text-[10px] font-bold uppercase tracking-widest text-blue-600 bg-blue-50 px-2 py-1 rounded-full">{study.data.industry}</span>
              <span class="text-gray-300 group-hover:text-blue-500 transition-colors">‚Üó</span>
            </div>
            
            <h3 class="font-display text-xl font-bold mb-3 text-slate-900 leading-tight group-hover:text-blue-600 transition-colors">
              {study.data.title}
            </h3>
            
            <div class="mt-auto pt-6 border-t border-gray-100">
              <div class="flex items-center gap-2 text-slate-600 font-mono text-xs font-bold mb-3">
                 <span class="text-green-500">‚ñ≤</span> {study.data.metric}
              </div>
              <div class="flex flex-wrap gap-2">
                {study.data.tags && study.data.tags.slice(0, 3).map(tag => (
                  <span class="text-[10px] text-gray-400 bg-gray-50 px-1.5 py-0.5 rounded border border-gray-100">{tag}</span>
                ))}
              </div>
            </div>
          </a>
        ))}
      </div>
    </div>

    <div class="mb-32">
      <div class="mb-12 border-b border-gray-200 pb-8">
        <div class="flex items-center gap-4 mb-2">
          <span class="text-4xl">‚öôÔ∏è</span>
          <h2 class="font-display text-3xl font-bold text-slate-900">Operations Autopilot</h2>
        </div>
        <p class="text-lg text-slate-500 max-w-2xl">
          Logic layers for <strong>Logistics, Fulfillment, and Client Onboarding</strong>. Run your business without the friction.
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-6">
        {opsStudies.map(study => (
          <a href={`/case-studies/${study.slug}`} class="group flex flex-col bg-white rounded-3xl p-6 border border-gray-200 hover:border-orange-500 hover:shadow-xl transition-all duration-300 h-full">
            <div class="flex items-center justify-between mb-4">
              <span class="text-[10px] font-bold uppercase tracking-widest text-orange-600 bg-orange-50 px-2 py-1 rounded-full">{study.data.industry}</span>
              <span class="text-gray-300 group-hover:text-orange-500 transition-colors">‚Üó</span>
            </div>
            
            <h3 class="font-display text-xl font-bold mb-3 text-slate-900 leading-tight group-hover:text-orange-600 transition-colors">
              {study.data.title}
            </h3>
            
            <div class="mt-auto pt-6 border-t border-gray-100">
              <div class="flex items-center gap-2 text-slate-600 font-mono text-xs font-bold mb-3">
                 <span class="text-green-500">‚ñ≤</span> {study.data.metric}
              </div>
              <div class="flex flex-wrap gap-2">
                {study.data.tags && study.data.tags.slice(0, 3).map(tag => (
                  <span class="text-[10px] text-gray-400 bg-gray-50 px-1.5 py-0.5 rounded border border-gray-100">{tag}</span>
                ))}
              </div>
            </div>
          </a>
        ))}
      </div>
    </div>

    <div class="mb-32">
      <div class="mb-12 border-b border-gray-200 pb-8">
        <div class="flex items-center gap-4 mb-2">
          <span class="text-4xl">üß†</span>
          <h2 class="font-display text-3xl font-bold text-slate-900">Service Concierge</h2>
        </div>
        <p class="text-lg text-slate-500 max-w-2xl">
          AI Agents for <strong>Inbox Triage, Support, and Booking Management</strong>. 24/7 responsiveness with zero headcount.
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-6">
        {serviceStudies.map(study => (
          <a href={`/case-studies/${study.slug}`} class="group flex flex-col bg-white rounded-3xl p-6 border border-gray-200 hover:border-purple-500 hover:shadow-xl transition-all duration-300 h-full">
            <div class="flex items-center justify-between mb-4">
              <span class="text-[10px] font-bold uppercase tracking-widest text-purple-600 bg-purple-50 px-2 py-1 rounded-full">{study.data.industry}</span>
              <span class="text-gray-300 group-hover:text-purple-500 transition-colors">‚Üó</span>
            </div>
            
            <h3 class="font-display text-xl font-bold mb-3 text-slate-900 leading-tight group-hover:text-purple-600 transition-colors">
              {study.data.title}
            </h3>
            
            <div class="mt-auto pt-6 border-t border-gray-100">
              <div class="flex items-center gap-2 text-slate-600 font-mono text-xs font-bold mb-3">
                 <span class="text-green-500">‚ñ≤</span> {study.data.metric}
              </div>
              <div class="flex flex-wrap gap-2">
                {study.data.tags && study.data.tags.slice(0, 3).map(tag => (
                  <span class="text-[10px] text-gray-400 bg-gray-50 px-1.5 py-0.5 rounded border border-gray-100">{tag}</span>
                ))}
              </div>
            </div>
          </a>
        ))}
      </div>
    </div>

  </section>
</Layout>